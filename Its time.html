<!DOCTYPE html>
<html>

<head>

  <script src="../jspsych.js"></script>
  <script src="../plugins/jspsych-image-keyboard-response.js"></script>
  <script src="../plugins/jspsych-html-keyboard-response.js"></script>
  <script src="../plugins/jspsych-visual-search-circle.js"></script>
  <script src="../plugins/jspsych-preload.js"></script>
  <link rel="stylesheet" href="../css/jspsych.css">
</head>

<body>
</body>
<script>

  // manually preload the image files, since they are passed to the image-keyboard-response stimulus parameter
  // through timeline variables, and therefore cannot be automatically preloaded
  var images = ['img/003.png', 'img/008.png', 'img/222.png'];
  var preload = {
    type: 'preload',
    images: images
  }

  var timeline_variables = [
    { v1: 'img/003.png',},
    { v1: 'img/008.png',},
    { v1: 'img/222.png',}
  ];
 
  var node = {
    timeline_variables: timeline_variables,
    timeline: [
      {
    type: 'visual-search-circle',
    target: jsPsych.timelineVariable('v1'),
    foil: jsPsych.timelineVariable('v1'),
    fixation_image: 'img/red dot.png',
    set_size: 8,
    target_present: true
  }
    ],
    randomize_order: true,
    repetitions: 2
    };

  jsPsych.init({
    timeline: [preload, node],
    on_finish: function() {
      jsPsych.data.displayData();
    },
    default_iti: 250
  });

</script>

</html>
